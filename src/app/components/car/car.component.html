<div *ngIf="dataLoaded==false" class="animate-spin h-9 w-9 m-auto">
  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
    y="0px" viewBox="0 0 512.004 512.004" style="enable-background:new 0 0 512.004 512.004;" xml:space="preserve">
    <g>
      <path style="fill:#ECF0F1;" d="M409.602,256.002c0,84.83-68.77,153.6-153.6,153.6s-153.6-68.77-153.6-153.6
      s68.77-153.6,153.6-153.6S409.602,171.172,409.602,256.002" />
      <path style="fill:#BDC3C7;" d="M298.669,256.002c0,23.561-19.106,42.667-42.667,42.667c-23.569,0-42.667-19.106-42.667-42.667
      c0-23.561,19.098-42.667,42.667-42.667C279.563,213.335,298.669,232.442,298.669,256.002" />
      <path style="fill:#26B99A;" d="M477.869,264.535c-4.71,0-8.533-3.823-8.533-8.533c0-117.632-95.701-213.333-213.333-213.333
      c-4.71,0-8.533-3.823-8.533-8.533s3.823-8.533,8.533-8.533c127.044,0,230.4,103.356,230.4,230.4
      C486.402,260.713,482.579,264.535,477.869,264.535" />
      <path style="fill:#E64C3C;" d="M256.002,486.402c-127.044,0-230.4-103.356-230.4-230.4c0-4.71,3.823-8.533,8.533-8.533
      s8.533,3.823,8.533,8.533c0,117.632,95.701,213.333,213.333,213.333c4.71,0,8.533,3.823,8.533,8.533
      S260.713,486.402,256.002,486.402" />
      <path style="fill:#26B99A;" d="M477.869,264.535c-2.185,0-4.369-0.836-6.033-2.5l-25.6-25.6c-3.337-3.337-3.337-8.73,0-12.066
      c3.337-3.337,8.73-3.337,12.066,0l19.567,19.567l19.567-19.567c3.337-3.337,8.73-3.337,12.066,0c3.337,3.337,3.337,8.73,0,12.066
      l-25.6,25.6C482.238,263.699,480.053,264.535,477.869,264.535" />
      <path style="fill:#E64C3C;" d="M59.735,290.135c-2.185,0-4.369-0.836-6.033-2.5l-19.567-19.567l-19.567,19.567
      c-3.337,3.337-8.73,3.337-12.066,0c-3.337-3.337-3.337-8.73,0-12.066l25.6-25.6c3.337-3.337,8.73-3.337,12.066,0l25.6,25.6
      c3.337,3.337,3.337,8.73,0,12.066C64.105,289.299,61.92,290.135,59.735,290.135" />
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
  </svg>
</div>

<div class="mt-4 mb-3 flex flex-col md:mt-0 md:col-span-2">
  <div class="shadow overflow-hidden border sm:rounded-md">
    <div class="px-4 py-5 sm:p-6 flex space-x-3">
      <div class="col-span-6 w-1/3 sm:col-span-3">
        <label for="filterText" class="label">Araç filtreleme ...</label>
        <input type="text" [(ngModel)]="filterText" id="filterText" class="text-box"
          placeholder="arama ifadesi giriniz...">
      </div>
      <div class="col-span-6 w-1/3 sm:col-span-3">
        <label for="brand-select" class="label">Markalar</label>
        <select [(ngModel)]="brandId" id="brand-select" name="brand-select" class="select-option">
          <option value="" selected>Marka Seçiniz</option>
          <option *ngFor="let brand of brands" [value]="brand.brandId"> {{brand.brandName}} </option>
        </select>
      </div>
      <div class="col-span-6 w-1/3 sm:col-span-3">
        <label for="brand-select" class="label">Renkler</label>
        <select [(ngModel)]="colourId" id="colour-select" name="colour-select" class="form-select select-option">
          <option value="0" selected>Renk Seçiniz</option>
          <option *ngFor="let colour of colours" [value]="colour.colourId"> {{colour.colourName}} </option>
        </select>
      </div>
      <button (click)="customFiltering(brandId,colourId)" class="btn-register mt-auto">Filtrele</button>
    </div>
  </div>
</div>

<div *ngIf="dataLoaded!=false" class="flex flex-col">
  <div class="table-wrap">
    <div class="table-box">
      <div class="table-frame">
        <table class="table-style">
          <thead class="bg-gray-100">
            <tr>
              <th scope="col" class="table-head">
                Araç
              </th>
              <th scope="col" class="table-head">
                Renk - Model
              </th>
              <th scope="col" class="table-head">
                Günlük Kira + Kdv'li
              </th>
              <th scope="col" class="table-head">
                Açıklama
              </th>
            </tr>
          </thead>
          <tbody class="table-body">
            <tr *ngFor="let car of carWithDetails |filterText:filterText">
              <td class="table-dimension">
                <div class="flex items-center">
                  <div routerLink="/cars/cardetail/{{car.carId}}"
                    class="cursor-pointer flex-shrink-0 h-10 w-10 rounded-full bg-teal-500 bg-opacity-40">
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 492.702 492.702"
                      style="enable-background:new 0 0 492.702 492.702;" xml:space="preserve">
                      <g>
                        <path style="fill:#777777;"
                          d="M110.125,169.853c1.008-1.955,1.707-4.065,1.707-6.408c0-7.835-6.361-14.196-14.196-14.196H75.34
		c-7.835,0-14.196,6.361-14.196,14.196c0,7.835,6.361,14.196,14.196,14.196c11.667,0,8.813,0,22.295,0h21.985v-7.789H110.125z" />
                        <path style="fill:#777777;"
                          d="M382.572,169.853c-1.008-1.955-1.722-4.065-1.722-6.408c0-7.835,6.361-14.196,14.196-14.196h22.295
		c7.835,0,14.196,6.361,14.196,14.196c0,7.835-6.361,14.196-14.196,14.196c-11.667,0-8.813,0-22.295,0h-21.985v-7.789H382.572z" />
                      </g>
                      <g>
                        <path style="fill:#454545;" d="M18.989,319.326v73.169c0,8.564,6.951,15.515,15.515,15.515H68.39
		c8.564,0,15.515-6.951,15.515-15.515v-52.984h-13.56L18.989,319.326z" />
                        <path style="fill:#454545;" d="M422.352,339.512h-13.56v52.984c0,8.564,6.951,15.515,15.515,15.515h33.901
		c8.564,0,15.515-6.951,15.515-15.515v-73.169L422.352,339.512z" />
                      </g>
                      <path style="fill:#E5E5E5;" d="M490.976,296.162c-0.233,1.195-0.481,2.327-0.745,3.336c-17.253,11.776-63.41,8.828-85.985,5.725
	H88.451c-22.078,3.041-68.67,6.129-85.985-5.71c-0.264-1.008-0.512-2.141-0.745-3.336c-8.626-43.396,15.888-87.149,57.561-102.074
	c29.432-10.535,52.457-3.817,62.278-31.697l17.051-48.283c4.081-11.59,13.653-20.48,25.616-23.35
	c31.279-7.463,82.122-5.958,82.122-5.958s50.859-1.489,82.137,5.958c11.947,2.855,21.52,11.76,25.616,23.35l17.051,48.283
	c9.821,27.881,32.768,21.116,62.262,31.697C475.088,209.029,499.618,252.766,490.976,296.162z" />
                      <path style="fill:#168DE2;" d="M372.269,178.93c-3.506-3.817-6.578-8.145-8.44-13.39c-5.679-15.872-11.373-32.008-17.051-48.33
	c-3.258-9.387-10.783-16.4-20.092-18.68c-22.528-5.492-59.159-6.563-80.57-5.927c-5.198-1.303-56.413,0.171-80.074,5.927
	c-9.325,2.281-16.834,9.278-20.108,18.68c-5.71,16.322-11.388,32.442-17.067,48.299c-1.862,5.244-4.934,9.588-8.456,13.405
	C204.24,185.524,288.457,185.524,372.269,178.93z" />
                      <circle style="fill:#6F6F6F;" cx="436.068" cy="251.649" r="35.7" />
                      <circle style="fill:#F3F3F3;" cx="436.068" cy="251.649" r="26.484" />
                      <path style="fill:#606060;" d="M490.231,299.514c0,6.997-3.025,13.653-8.301,18.246l-37.05,32.458
	c-14.522,12.722-33.187,19.72-52.488,19.72H100.304c-19.316,0-37.966-6.997-52.488-19.72l-37.081-32.458
	c-5.26-4.592-8.27-11.248-8.27-18.246c15.515,10.597,56.429,9.092,76.412,6.904c7.649-0.822,15.344-1.179,23.04-1.179h288.861
	c7.695,0,15.391,0.357,23.04,1.179C433.678,308.59,474.685,310.126,490.231,299.514z" />
                      <path style="fill:#6F6F6F;" d="M343.008,369.937c-3.46,6.951-8.751,12.629-15.127,16.57c-6.377,3.941-13.809,6.128-21.566,6.128
	H186.398c-7.773,0-15.22-2.188-21.566-6.128c-6.377-3.941-11.636-9.619-15.127-16.57H343.008z" />
                      <path style="fill:#ED6262;" d="M432.841,347.859h-28.889c-6.423,0-11.636-5.213-11.636-11.636v-0.977
	c0-6.423,5.213-11.636,11.636-11.636h28.889c6.423,0,11.636,5.213,11.636,11.636v0.977
	C444.477,342.646,439.279,347.859,432.841,347.859z" />
                      <circle style="fill:#6F6F6F;" cx="56.629" cy="251.649" r="35.7" />
                      <circle style="fill:#F3F3F3;" cx="56.629" cy="251.649" r="26.484" />
                      <g>
                        <path style="fill:#ED6262;" d="M59.841,347.859H88.73c6.423,0,11.636-5.213,11.636-11.636v-0.977
		c0-6.423-5.213-11.636-11.636-11.636H59.841c-6.423,0-11.636,5.213-11.636,11.636v0.977
		C48.204,342.646,53.418,347.859,59.841,347.859z" />
                        <path style="fill:#ED6262;" d="M347.228,286.217c-67.212-3.615-134.563-3.615-201.775,0c-22.807,1.226-34.583,18.789-33.171,35.871
		c1.381,16.834,16.306,29.432,33.187,30.332c67.212,3.615,134.563,3.615,201.759,0h0.031c16.865-0.9,31.806-13.498,33.187-30.332
		C381.827,304.959,370.035,287.443,347.228,286.217z" />
                      </g>
                      <path style="fill:#1F9AE5;" d="M256.278,134.882V111.78c0-3.693,3.057-6.749,6.842-6.749h0.559c3.693-0.279,6.842,2.777,6.842,6.377
	v22.606c0,4.437,3.227,8.316,7.571,8.595c4.717,0.171,8.595-3.522,8.595-8.145v-16.849c0-3.693,3.056-6.749,6.749-6.749h0.559
	c3.972,0,7.215,3.227,7.215,7.121v12.971c0,4.344,3.32,8.316,7.664,8.502c4.624,0.279,8.595-3.413,8.595-8.037v-14.91
	c0-3.879,3.227-6.842,7.121-6.749c0.093,0,0.093,0,0.093,0c0.093,0,0.093,0,0.186,0c3.879-0.093,7.106,2.87,7.106,6.749v16.477
	c0,4.437,3.336,8.316,7.664,8.595c4.717,0.186,8.502-3.522,8.502-8.13v-12.397c-0.45-1.303-0.915-2.544-1.365-3.863
	c-3.258-9.387-10.783-16.4-20.092-18.68c-22.528-5.492-59.159-6.563-80.57-5.927c-5.198-1.303-56.413,0.171-80.074,5.927
	c-9.325,2.281-16.834,9.278-20.108,18.68c-0.465,1.303-0.915,2.544-1.381,3.848v9.914c0,4.344,3.336,8.316,7.758,8.502
	c4.624,0.279,8.502-3.413,8.502-8.037v-14.91c0-3.879,3.243-6.842,7.215-6.749c0,0,0,0,0.093,0c0,0,0,0,0.093,0
	c3.879-0.093,7.215,2.87,7.215,6.749v16.477c0,4.437,3.227,8.316,7.571,8.595c4.639,0.186,8.425-3.413,8.549-7.913v-22.016
	c0-4.624,3.848-8.316,8.533-8.114c4.36,0.264,7.649,4.158,7.649,8.518v21.023c0.124,4.236,3.367,7.99,7.618,8.254
	c4.717,0.186,8.502-3.506,8.502-8.13l0.093-17.904c0-4.624,3.786-8.316,8.502-8.13c4.344,0.279,7.664,4.158,7.664,8.595v19.394
	c0.093,4.344,3.693,7.851,8.037,7.851C252.679,143.012,256.278,139.32,256.278,134.882z" />
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <div class="text-sm font-medium text-gray-900">
                      {{car.carBrandName}}
                    </div>
                    <div class="text-sm text-gray-500">
                      {{car.carModelName}}
                    </div>
                  </div>
                </div>
              </td>
              <td class="table-dimension">
                <div class="text-sm text-gray-900">{{car.carColourName}}</div>
                <div class="text-sm text-gray-500">{{car.modelYear | date:'yyyy'}}</div>
              </td>
              <td class="table-dimension">
                <span class="text-sm text-gray-500">
                  {{car.dailyPrice | currency:'TRY':'₺'}}
                </span><br>
                <span class="text-sm text-gray-900">
                  {{car.dailyPrice |vatAdded:18 |currency:"TRY":"₺"}}
                </span>
              </td>
              <td class="table-dimension text-sm text-gray-500">
                {{car.description}}
              </td>
            </tr>

            <!-- More Vehicle... -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
